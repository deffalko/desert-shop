{"ast":null,"code":"const initialState = {\n  items: {} // ключ - id товара, значение - количество\n\n};\nconst basketSlice = createSlice({\n  name: \"@@basket\",\n  initialState,\n  reducers: {\n    SetAddToBasket: (state, action) => {\n      const item = action.payload;\n\n      if (state.items[item.id]) {\n        state.items[item.id] += 1;\n      } else {\n        state.items[item.id] = 1;\n      }\n    },\n    SetIncrement: (state, action) => {\n      const itemId = action.payload;\n\n      if (state.items[itemId]) {\n        state.items[itemId] += 1;\n      }\n    },\n    SetDecrement: (state, action) => {\n      const itemId = action.payload;\n\n      if (state.items[itemId] && state.items[itemId] > 1) {\n        state.items[itemId] -= 1;\n      } else {\n        delete state.items[itemId]; // удаляем, если счетчик 0\n      }\n    }\n  }\n});\nexport const {\n  SetAddToBasket,\n  SetIncrement,\n  SetDecrement\n} = basketSlice.actions;\nexport const selectBasketItemQuantity = (state, itemId) => {\n  return state.basket.items[itemId] || 0;\n};","map":{"version":3,"sources":["C:/Users/gumar/OneDrive/Рабочий стол/desert-shop/src/features/CardBtn/addToBasket-slice.js"],"names":["initialState","items","basketSlice","createSlice","name","reducers","SetAddToBasket","state","action","item","payload","id","SetIncrement","itemId","SetDecrement","actions","selectBasketItemQuantity","basket"],"mappings":"AAAA,MAAMA,YAAY,GAAG;AACnBC,EAAAA,KAAK,EAAE,EADY,CACR;;AADQ,CAArB;AAIA,MAAMC,WAAW,GAAGC,WAAW,CAAC;AAC9BC,EAAAA,IAAI,EAAE,UADwB;AAE9BJ,EAAAA,YAF8B;AAG9BK,EAAAA,QAAQ,EAAE;AACRC,IAAAA,cAAc,EAAE,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACjC,YAAMC,IAAI,GAAGD,MAAM,CAACE,OAApB;;AACA,UAAIH,KAAK,CAACN,KAAN,CAAYQ,IAAI,CAACE,EAAjB,CAAJ,EAA0B;AACxBJ,QAAAA,KAAK,CAACN,KAAN,CAAYQ,IAAI,CAACE,EAAjB,KAAwB,CAAxB;AACD,OAFD,MAEO;AACLJ,QAAAA,KAAK,CAACN,KAAN,CAAYQ,IAAI,CAACE,EAAjB,IAAuB,CAAvB;AACD;AACF,KARO;AASRC,IAAAA,YAAY,EAAE,CAACL,KAAD,EAAQC,MAAR,KAAmB;AAC/B,YAAMK,MAAM,GAAGL,MAAM,CAACE,OAAtB;;AACA,UAAIH,KAAK,CAACN,KAAN,CAAYY,MAAZ,CAAJ,EAAyB;AACvBN,QAAAA,KAAK,CAACN,KAAN,CAAYY,MAAZ,KAAuB,CAAvB;AACD;AACF,KAdO;AAeRC,IAAAA,YAAY,EAAE,CAACP,KAAD,EAAQC,MAAR,KAAmB;AAC/B,YAAMK,MAAM,GAAGL,MAAM,CAACE,OAAtB;;AACA,UAAIH,KAAK,CAACN,KAAN,CAAYY,MAAZ,KAAuBN,KAAK,CAACN,KAAN,CAAYY,MAAZ,IAAsB,CAAjD,EAAoD;AAClDN,QAAAA,KAAK,CAACN,KAAN,CAAYY,MAAZ,KAAuB,CAAvB;AACD,OAFD,MAEO;AACL,eAAON,KAAK,CAACN,KAAN,CAAYY,MAAZ,CAAP,CADK,CACuB;AAC7B;AACF;AAtBO;AAHoB,CAAD,CAA/B;AA6BA,OAAO,MAAM;AAAEP,EAAAA,cAAF;AAAkBM,EAAAA,YAAlB;AAAgCE,EAAAA;AAAhC,IACXZ,WAAW,CAACa,OADP;AAGP,OAAO,MAAMC,wBAAwB,GAAG,CAACT,KAAD,EAAQM,MAAR,KAAmB;AACzD,SAAON,KAAK,CAACU,MAAN,CAAahB,KAAb,CAAmBY,MAAnB,KAA8B,CAArC;AACD,CAFM","sourcesContent":["const initialState = {\r\n  items: {}, // ключ - id товара, значение - количество\r\n};\r\n\r\nconst basketSlice = createSlice({\r\n  name: \"@@basket\",\r\n  initialState,\r\n  reducers: {\r\n    SetAddToBasket: (state, action) => {\r\n      const item = action.payload;\r\n      if (state.items[item.id]) {\r\n        state.items[item.id] += 1;\r\n      } else {\r\n        state.items[item.id] = 1;\r\n      }\r\n    },\r\n    SetIncrement: (state, action) => {\r\n      const itemId = action.payload;\r\n      if (state.items[itemId]) {\r\n        state.items[itemId] += 1;\r\n      }\r\n    },\r\n    SetDecrement: (state, action) => {\r\n      const itemId = action.payload;\r\n      if (state.items[itemId] && state.items[itemId] > 1) {\r\n        state.items[itemId] -= 1;\r\n      } else {\r\n        delete state.items[itemId]; // удаляем, если счетчик 0\r\n      }\r\n    },\r\n  },\r\n});\r\n\r\nexport const { SetAddToBasket, SetIncrement, SetDecrement } =\r\n  basketSlice.actions;\r\n\r\nexport const selectBasketItemQuantity = (state, itemId) => {\r\n  return state.basket.items[itemId] || 0;\r\n};\r\n"]},"metadata":{},"sourceType":"module"}